import{j as e,r as c,u as _,a as S}from"./app-B-2JeO2f.js";import{A as k,a as D,b as C,c as A,d as N,g as q,e as w,f as B}from"./alert-dialog-B7JDQ2Ra.js";import{c as E,B as x}from"./button-D9FjKu33.js";import{I as u}from"./input-DpYeXLQp.js";import{L as d}from"./label-ze-wSye_.js";import{s as O}from"./index-ikzcNs2d.js";import{S as m,a as h,b as j,c as g,d as l}from"./select-DXogM-Tn.js";import{S as T}from"./square-pen-DUSckL2e.js";/* empty css            */import"./index-DKTs4Soh.js";import"./index-Lo6P_dpq.js";import"./index-BUXgqcHd.js";import"./index-BjuCAOtZ.js";import"./index-DdqV0amG.js";import"./createLucideIcon-CWJbsRWA.js";import"./check-DzMLAMov.js";function P({className:i,...o}){return e.jsx("textarea",{"data-slot":"textarea",className:E("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...o})}function $({orderItem:i}){const[o,v]=c.useState([]),{data:s,setData:a,put:b,processing:n,errors:r}=_({product_id:i.product_id,quantity:i.quantity,delivery_date:i.delivery_date,delivery_address:i.delivery_address,booking_type:i.booking_type,memo:i.memo}),[y,p]=c.useState(!1);c.useEffect(()=>{S.get("/api/products").then(t=>v(t.data))},[]);const f=t=>{t.preventDefault(),b(O("orders.update",i.id),{onSuccess:()=>p(!1)})};return e.jsxs(k,{open:y,onOpenChange:p,children:[e.jsx(D,{asChild:!0,children:e.jsx(x,{size:"icon",children:e.jsx(T,{})})}),e.jsxs(C,{children:[e.jsxs(A,{children:[e.jsx(N,{children:"Edit Order"}),e.jsx(q,{children:"Update the order details below"})]}),e.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Product"}),e.jsxs(m,{value:s.product_id?.toString()??"",onValueChange:t=>a("product_id",Number(t)),children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a product"})}),e.jsx(g,{children:o.map(t=>e.jsx(l,{value:t.id.toString(),children:t.name},t.id))})]}),r.product_id&&e.jsx("p",{className:"text-red-500",children:r.product_id})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Quantity"}),e.jsx(u,{type:"number",min:1,value:s.quantity,onChange:t=>a("quantity",Number(t.target.value))}),r.quantity&&e.jsx("p",{className:"text-red-500",children:r.quantity})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Delivery Date"}),e.jsx(u,{type:"datetime-local",step:3600,value:s.delivery_date,onChange:t=>a("delivery_date",t.target.value)}),r.delivery_date&&e.jsx("p",{className:"text-red-500",children:r.delivery_date})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Delivery Address"}),e.jsx(u,{value:s.delivery_address,onChange:t=>a("delivery_address",t.target.value)}),r.delivery_address&&e.jsx("p",{className:"text-red-500",children:r.delivery_address})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Booking Type"}),e.jsxs(m,{value:s.booking_type??"",onValueChange:t=>a("booking_type",t),children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select booking type"})}),e.jsxs(g,{children:[e.jsx(l,{value:"pickup",children:"Pick Up"}),e.jsx(l,{value:"customer_booked",children:"Customer Will Book"}),e.jsx(l,{value:"staff_booked",children:"We Will Book"})]})]}),r.booking_type&&e.jsx("p",{className:"text-red-500",children:r.booking_type})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Memo"}),e.jsx(P,{value:s.memo||"",onChange:t=>a("memo",t.target.value)}),r.memo&&e.jsx("p",{className:"text-red-500",children:r.memo})]}),e.jsxs(w,{children:[e.jsx(B,{disabled:n,children:"Cancel"}),e.jsx(x,{type:"submit",disabled:n,children:n?"Saving...":"Save"})]})]})]})]})}export{$ as default};
