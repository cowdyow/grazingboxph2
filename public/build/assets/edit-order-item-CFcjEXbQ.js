import{j as e,r as c,u as _,a as S}from"./app-Is6VLnUv.js";import{A as k,a as D,b as C,c as A,d as N,g as q,e as w,f as B}from"./alert-dialog-CyvRI5EQ.js";import{c as E,B as p}from"./createLucideIcon-EopvNTPc.js";import{I as u}from"./input-DRdoIktu.js";import{L as d}from"./label-BuVsNOmX.js";import{s as O}from"./index-ikzcNs2d.js";import{S as m,a as h,b as j,c as g,d as l}from"./select-B8yx8yZM.js";import{S as T}from"./square-pen-CRyILXbp.js";/* empty css            */import"./index-CtS3Rb2F.js";import"./index-C7B5AoYi.js";import"./index-DBGt_DGz.js";import"./index-DjB_7qOG.js";import"./index-oYGXeg4W.js";import"./check-BoRWP_am.js";function P({className:s,...n}){return e.jsx("textarea",{"data-slot":"textarea",className:E("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...n})}function Z({orderItem:s}){const[n,v]=c.useState([]),{data:i,setData:a,put:b,processing:o,errors:r}=_({product_id:s.product_id,quantity:s.quantity,delivery_date:s.delivery_date,delivery_address:s.delivery_address,booking_type:s.booking_type,memo:s.memo}),[y,x]=c.useState(!1);c.useEffect(()=>{S.get("/api/products").then(t=>v(t.data))},[]);const f=t=>{t.preventDefault(),b(O("orders.update",s.id),{onSuccess:()=>x(!1)})};return e.jsxs(k,{open:y,onOpenChange:x,children:[e.jsx(D,{asChild:!0,children:e.jsx(p,{size:"icon",children:e.jsx(T,{})})}),e.jsxs(C,{children:[e.jsxs(A,{children:[e.jsx(N,{children:"Edit Order"}),e.jsx(q,{children:"Update the order details below"})]}),e.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Product"}),e.jsxs(m,{value:i.product_id?.toString()??"",onValueChange:t=>a("product_id",Number(t)),children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select a product"})}),e.jsx(g,{children:n.map(t=>e.jsx(l,{value:t.id.toString(),children:t.name},t.id))})]}),r.product_id&&e.jsx("p",{className:"text-red-500",children:r.product_id})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Quantity"}),e.jsx(u,{type:"number",min:1,value:i.quantity,onChange:t=>a("quantity",Number(t.target.value))}),r.quantity&&e.jsx("p",{className:"text-red-500",children:r.quantity})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Delivery Date"}),e.jsx(u,{type:"datetime-local",step:3600,value:i.delivery_date,onChange:t=>a("delivery_date",t.target.value)}),r.delivery_date&&e.jsx("p",{className:"text-red-500",children:r.delivery_date})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Delivery Address"}),e.jsx(u,{value:i.delivery_address,onChange:t=>a("delivery_address",t.target.value)}),r.delivery_address&&e.jsx("p",{className:"text-red-500",children:r.delivery_address})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Booking Type"}),e.jsxs(m,{value:i.booking_type??"",onValueChange:t=>a("booking_type",t),children:[e.jsx(h,{children:e.jsx(j,{placeholder:"Select booking type"})}),e.jsxs(g,{children:[e.jsx(l,{value:"pickup",children:"Pick Up"}),e.jsx(l,{value:"customer_booked",children:"Customer Will Book"}),e.jsx(l,{value:"staff_booked",children:"We Will Book"})]})]}),r.booking_type&&e.jsx("p",{className:"text-red-500",children:r.booking_type})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Memo"}),e.jsx(P,{value:i.memo||"",onChange:t=>a("memo",t.target.value)}),r.memo&&e.jsx("p",{className:"text-red-500",children:r.memo})]}),e.jsxs(w,{children:[e.jsx(B,{disabled:o,children:"Cancel"}),e.jsx(p,{type:"submit",disabled:o,children:o?"Saving...":"Save"})]})]})]})]})}export{Z as default};
