import{c as k,r as p,j as e,H as C,b as n,L as w}from"./app-CQJTq1r-.js";import{C as h,a as T,b as L}from"./card-CVuh8dXX.js";import{A as R,t as B}from"./app-layout-DtNdUlW9.js";import{d as D}from"./index-D329iiHL.js";import{T as I,a as q,b as u,c as s,d as A,e as t}from"./table-xcI4Q77s.js";import{B as j}from"./badge-Co9cPQeL.js";import E from"./edit-rider-Cfs6NaRY.js";import{I as b}from"./input-8qQ6FkGn.js";import{B as g}from"./createLucideIcon-Dz25j5tm.js";import{s as o}from"./index-ikzcNs2d.js";/* empty css            */import"./index-BEjb7ryh.js";import"./index-GJwz5DC8.js";import"./index-gWb-7dj9.js";import"./index-BKuroxqG.js";import"./index-D6uSNWw4.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-CA3nruD3.js";import"./index-gJQW8Ur0.js";import"./alert-dialog-De2Uw9--.js";import"./label-D-kdjilX.js";import"./bike-D5S3tKS9.js";const H=[{title:"Dashboard",href:D().url}],v={pending:{label:"Not Yet Started",className:"bg-gray-100 text-gray-800"},"in-progress":{label:"Preparing",className:"bg-yellow-100 text-yellow-800"},ready:{label:"Ready",className:"bg-blue-100 text-blue-800"},completed:{label:"Completed",className:"bg-green-100 text-green-800"}},O={pickup:{label:"Pick Up",className:"bg-yellow-100 text-yellow-800"},customer_booked:{label:"Customer Will Book",className:"bg-blue-100 text-blue-800"},staff_booked:{label:"I Will Book",className:"bg-green-100 text-green-800"}},ce=({orders:y,productCounts:N,date:f})=>{const{props:P}=k(),[c,m]=p.useState(""),[i,x]=p.useState(f),S=()=>{n.get(o("lalamove.index"),{search:c,date:i},{preserveState:!0,replace:!0})},_=()=>{m(""),x(new Date().toISOString().split("T")[0]),n.get(o("lalamove.index"),{},{preserveState:!0})};return e.jsxs(R,{breadcrumbs:H,children:[e.jsx(C,{title:"Lalamove Riders"}),e.jsxs("div",{className:"",children:[e.jsx(b,{type:"date",value:i,onChange:a=>{const l=a.target.value;x(l),n.get(o("lalamove.index"),{date:l,search:c},{preserveState:!0,replace:!0})},className:"w-auto mb-4"}),e.jsx("div",{className:"grid grid-cols-6 gap-4 pb-4",children:N.map(a=>{const l=a.total_quantity-a.completed_quantity;return e.jsxs(h,{className:`p-4 ${l===0?"bg-green-700 border-green-500":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.product_name}),e.jsxs("div",{className:"text-lg font-bold",children:[a.completed_quantity," / ",a.total_quantity]})]}),e.jsxs("div",{className:"text-sm text-gray-300",children:["REMAINING: ",l]})]},a.product_id)})}),e.jsxs(h,{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsxs(T,{className:"px-6",children:["Orders for ",new Date(i).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"flex gap-2 items-center mr-4",children:[e.jsx(b,{placeholder:"Search Customer...",value:c,onChange:a=>m(a.target.value),className:"w-full"}),e.jsx(g,{onClick:()=>S(),type:"button",children:"Search"}),e.jsx(g,{onClick:_,variant:"secondary",type:"button",children:"Reset"})]})]}),e.jsx(L,{className:"p-0",children:e.jsxs(I,{children:[e.jsx(q,{children:e.jsxs(u,{children:[e.jsx(s,{children:"#"}),e.jsx(s,{children:"Customer"}),e.jsx(s,{children:"Order"}),e.jsx(s,{children:"Booking Type"}),e.jsx(s,{children:"Delivery Time"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Notes"}),e.jsx(s,{children:"Rider Name"}),e.jsx(s,{children:"Rider Contact No"}),e.jsx(s,{children:"Lalamove Link"}),e.jsx(s,{})]})}),e.jsx(A,{children:y.data.map((a,l)=>e.jsxs(u,{children:[e.jsx(t,{children:e.jsx(w,{href:B.show(a.transaction_id).url,children:e.jsx("div",{className:"text-blue-500",children:a.transaction.order_number})})}),e.jsx(t,{children:a.transaction.customer.username}),e.jsxs(t,{children:[a.quantity," - ",a.product_name]}),e.jsx(t,{children:(()=>{const r=O[a.booking_type];return r?e.jsx(j,{className:r.className,children:r.label}):e.jsx(j,{variant:"secondary",children:"N/A"})})()}),e.jsx(t,{children:a.delivery_time}),e.jsx(t,{children:e.jsx("select",{value:a.status,onChange:r=>{const d=r.target.value;n.put(o("lalamove.updateStatus",a.id),{status:d},{preserveScroll:!0,onSuccess:()=>{}})},className:`px-2 py-1 rounded ${v[a.status]?.className||"bg-gray-100 text-gray-800"}`,children:Object.entries(v).map(([r,d])=>e.jsx("option",{value:r,children:d.label},r))})}),e.jsx(t,{children:a.memo}),e.jsx(t,{children:a.lalamove&&a.lalamove.rider_name}),e.jsx(t,{children:a.lalamove&&a.lalamove.contact_no}),e.jsx(t,{children:a.lalamove&&a.lalamove.memo&&e.jsx("a",{href:a.lalamove.memo,className:"text-blue-600 underline",target:"_blank",children:"Link"})}),e.jsx(t,{children:e.jsx(E,{order:a})})]},l))})]})})]})]})]})};export{ce as default};
