import{j as e,r as u,H as S,b as o,L as _}from"./app-DSu_hMm8.js";import{C as j,a as C,b as T}from"./card-D6xJtdWs.js";import{A as L,t as B}from"./app-layout-CDn8-4HA.js";import{d as D}from"./index-D329iiHL.js";import{T as R,a as P,b,c as l,d as H,e as t}from"./table-Da5aguz0.js";import I from"./edit-rider-CqCUNunO.js";import{I as g}from"./input-uhKhp2xa.js";import{B as v}from"./button-Cahx2woW.js";import{s as c}from"./index-ikzcNs2d.js";import M from"./customer-detail-BzreBg1O.js";import{B as q}from"./badge-Cbnv24YO.js";import{c as E}from"./createLucideIcon-DIVnD8hy.js";/* empty css            */import"./index-B63MEtX6.js";import"./index-BrbuAd_U.js";import"./index-BVCSXSoD.js";import"./index-CHq106D_.js";import"./index-TmqByw18.js";import"./index-CMWG4mbA.js";import"./app-logo-icon-7VsVju0i.js";import"./index-gJQW8Ur0.js";import"./alert-dialog-DCyAs6Jb.js";import"./label-BauavWlx.js";import"./bike-BlmIH5l6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M20 11H4",key:"6ut86h"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7",key:"1ana5r"}]],O=E("PhilippinePeso",A),U={pickup:{label:"Pick Up",className:"bg-yellow-100 text-yellow-800"},customer_booked:{label:"Customer Will Book",className:"bg-blue-100 text-blue-800"},staff_booked:{label:"I Will Book",className:"bg-green-100 text-green-800"}},z=({type:i})=>{const r=U[i];return r?e.jsx(q,{className:r.className,children:r.label}):null},W=[{title:"Dashboard",href:D().url}],f={pending:{label:"Not Yet Started",className:"bg-gray-100 text-gray-800"},"in-progress":{label:"Preparing",className:"bg-yellow-100 text-yellow-800"},ready:{label:"Ready",className:"bg-blue-100 text-blue-800"},completed:{label:"Completed",className:"bg-green-100 text-green-800"}},he=({orders:i,productCounts:r,date:N,dailySales:y})=>{const[d,p]=u.useState(""),[m,h]=u.useState(N),w=()=>{o.get(c("lalamove.index"),{search:d,date:m},{preserveState:!0,replace:!0})},k=()=>{p("");const s=new URLSearchParams(window.location.search).get("date")||new Date().toISOString().split("T")[0];h(s),o.get(c("lalamove.index"),{date:s,search:""},{preserveState:!0})};return e.jsxs(L,{breadcrumbs:W,children:[e.jsx(S,{title:"Lalamove Riders"}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(g,{type:"date",value:m,onChange:a=>{const s=a.target.value;h(s),o.get(c("lalamove.index"),{date:s,search:d},{preserveState:!0,replace:!0})},className:"w-auto mb-4"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{children:"Sales for Today - "}),e.jsxs("p",{className:"flex flex-row items-center",children:[e.jsx(O,{size:15}),y]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-4 pb-4",children:r.map(a=>{const s=a.total_quantity-a.completed_quantity;return e.jsxs(j,{className:`p-4 ${s===0?"bg-green-500 border-green-500":"dark:bg-[#1E1F23]"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.product_name}),e.jsxs("div",{className:"text-lg font-bold",children:[a.completed_quantity," / ",a.total_quantity]})]}),e.jsxs("div",{className:"text-sm dark:text-gray-200",children:["REMAINING: ",s]})]},a.product_id)})}),e.jsxs(j,{className:"dark:bg-[#222124]",children:[e.jsxs("div",{className:"flex sm:flex-row flex-col sm:justify-between  items-center sm:items-start pb-4 gap-4 sm:gap-0",children:[e.jsx(C,{className:"px-6 ",children:e.jsxs("div",{className:"inline-flex gap-2 text-lg font-bold",children:["Orders for ",e.jsx("p",{className:"underline",children:new Date(m).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})}),e.jsxs("div",{className:"flex gap-2 items-center mr-4",children:[e.jsx(g,{placeholder:"Search Customer...",value:d,onChange:a=>p(a.target.value),className:"w-full"}),e.jsx(v,{onClick:()=>w(),type:"button",children:"Search"}),e.jsx(v,{onClick:k,variant:"secondary",type:"button",children:"Reset"})]})]}),e.jsx(T,{className:"p-0",children:e.jsxs(R,{children:[e.jsx(P,{children:e.jsxs(b,{children:[e.jsx(l,{children:"#"}),e.jsx(l,{children:"Customer"}),e.jsx(l,{children:"Order"}),e.jsx(l,{children:"Delivery Time & Address"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Notes"}),e.jsx(l,{children:"Lalamove"}),e.jsx(l,{children:"Link"}),e.jsx(l,{})]})}),e.jsx(H,{children:i.data.map((a,s)=>e.jsxs(b,{children:[e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(z,{type:a.booking_type}),e.jsx(_,{href:B.show(a.transaction_id).url,children:e.jsx("div",{className:"text-blue-500",children:a.transaction.order_number})})]})}),e.jsx(t,{children:e.jsx(M,{customer:a.transaction.customer})}),e.jsxs(t,{children:[a.quantity," - ",a.product_name]}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{children:a.delivery_time}),e.jsx("div",{className:"text-xs text-gray-400 max-w-[200px] whitespace-normal break-words",children:a.delivery_address})]})}),e.jsx(t,{children:e.jsx("select",{value:a.status,onChange:n=>{const x=n.target.value;o.put(c("lalamove.updateStatus",a.id),{status:x},{preserveScroll:!0,onSuccess:()=>{}})},className:`px-2 py-1 rounded ${f[a.status]?.className||"bg-gray-100 text-gray-800"}`,children:Object.entries(f).map(([n,x])=>e.jsx("option",{value:n,children:x.label},n))})}),e.jsx(t,{className:"max-w-[250px] whitespace-normal break-words",children:a.memo}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{children:a.lalamove&&a.lalamove.contact_no}),e.jsx("div",{className:"text-xs text-gray-400",children:a.lalamove&&a.lalamove.rider_name})]})}),e.jsx(t,{children:a.lalamove&&a.lalamove.memo&&e.jsx("a",{href:a.lalamove.memo,className:"text-blue-600 underline",target:"_blank",children:"Link"})}),e.jsx(t,{children:e.jsx(I,{order:a})})]},s))})]})})]})]})]})};export{he as default};
